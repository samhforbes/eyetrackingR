<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract a subset of the dataset within a time-window in each trial. — subset_by_window • eyetrackingR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract a subset of the dataset within a time-window in each trial. — subset_by_window"><meta property="og:description" content="One of the more annoying aspects of preparing raw eyetracking data is filtering data down into the relevant
window within the trial, since for many experiments the precise start and end time of this window can vary
from trial to trial. This function allows for several approaches to subsetting data into the relevant time-
window– see 'Details' below."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eyetrackingR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/divergence_vignette.html">Estimating time windows of divergence</a>
    </li>
    <li>
      <a href="../articles/growth_curve_analysis_vignette.html">Performing a growth curve analysis using eyetrackingR</a>
    </li>
    <li>
      <a href="../articles/onset_contingent_analysis_vignette.html">Performing an onset-contingent analysis using eyetrackingR</a>
    </li>
    <li>
      <a href="../articles/preparing_your_data_vignette.html">Preparing your data for use with eyetrackingR</a>
    </li>
    <li>
      <a href="../articles/window_analysis_vignette.html">Performing a window analysis using eyetrackingR</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/samhforbes/eyetrackingR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract a subset of the dataset within a time-window in each trial.</h1>
    <small class="dont-index">Source: <a href="https://github.com/samhforbes/eyetrackingR/blob/HEAD/R/data_prep.R" class="external-link"><code>R/data_prep.R</code></a></small>
    <div class="hidden name"><code>subset_by_window.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>One of the more annoying aspects of preparing raw eyetracking data is filtering data down into the relevant
window within the trial, since for many experiments the precise start and end time of this window can vary
from trial to trial. This function allows for several approaches to subsetting data into the relevant time-
window– see 'Details' below.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">subset_by_window</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  rezero <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  window_start_msg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  window_end_msg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  msg_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  window_start_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  window_end_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  window_start_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  window_end_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Your original dataset</p></dd>


<dt id="arg-rezero">rezero<a class="anchor" aria-label="anchor" href="#arg-rezero"></a></dt>
<dd><p>Should the beginning of the window be considered the zero point of the timestamp?
Default TRUE</p></dd>


<dt id="arg-remove">remove<a class="anchor" aria-label="anchor" href="#arg-remove"></a></dt>
<dd><p>Should everything before the beginning and after the end of the window be removed?
Default TRUE. If set to FALSE and <code>rezero</code> is set to FALSE, an error is thrown (since in this case,
the function would not do anything).</p></dd>


<dt id="arg-window-start-msg">window_start_msg<a class="anchor" aria-label="anchor" href="#arg-window-start-msg"></a></dt>
<dd><p>For method (1). A message that is present only in the row whose time corresponds
to the trial start time. Common for eyetrackers that send a message at trial/stimuli start.</p></dd>


<dt id="arg-window-end-msg">window_end_msg<a class="anchor" aria-label="anchor" href="#arg-window-end-msg"></a></dt>
<dd><p>For method (1). A message that is present only in the row whose time corresponds
to the trial end time. Common for eyetrackers that send a message at trial-end/keypress/lookaway/etc.</p></dd>


<dt id="arg-msg-col">msg_col<a class="anchor" aria-label="anchor" href="#arg-msg-col"></a></dt>
<dd><p>For method (1). If you are indicating the trial start/end with a message column,
this is the name of that column.</p></dd>


<dt id="arg-window-start-col">window_start_col<a class="anchor" aria-label="anchor" href="#arg-window-start-col"></a></dt>
<dd><p>For method (2). A column that gives the start time for each trial.</p></dd>


<dt id="arg-window-end-col">window_end_col<a class="anchor" aria-label="anchor" href="#arg-window-end-col"></a></dt>
<dd><p>For method (2). A column that gives the end time for each trial.</p></dd>


<dt id="arg-window-start-time">window_start_time<a class="anchor" aria-label="anchor" href="#arg-window-start-time"></a></dt>
<dd><p>For method (3). Number indicating a start time that applies to all trials.</p></dd>


<dt id="arg-window-end-time">window_end_time<a class="anchor" aria-label="anchor" href="#arg-window-end-time"></a></dt>
<dd><p>For method (3). Number indicating an end time that applies to all trials.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Suppress messages? Default FALSE</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Subsetted data</p>
    </div>
    <div id="details">
    <h2>Details</h2>

<ol><li><p>The trial start/end times can be indicated by a message that is sent (e.g., TRIAL_START) in a
particular row for each trial. In this case, the timestamp of that row is used.</p></li>
<li><p>The trial start/end times can be indicated in by a column that specifies trial start/end times for each
trial.</p></li>
<li><p>The trial start/end times can be indicated by the actual start and stop time, the same across all
trials (the simplest case).</p></li>
</ol><p>If you only have a start time but the end time doesn't need adjusting, then leave the end time argument blank;
and vice versa.</p>
<p>This function can either rezero your data (the trial start time you select is the new zero-time-point), or
not. The former is useful when performing initial data-cleaning (e.g., different trial-starts on each
trial, as indicated by a message), and the latter is useful if you want to "zoom in" on a particular
portion of your data while keeping obvious the fact that there were other parts of the trial (e.g., an
image always appears 5000ms-7000ms in the trial, so for one analysis you are only interested in this
portion).</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"word_recognition"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_eyetrackingr_data.html">make_eyetrackingr_data</a></span><span class="op">(</span><span class="va">word_recognition</span>, </span></span>
<span class="r-in"><span>                               participant_column <span class="op">=</span> <span class="st">"ParticipantName"</span>,</span></span>
<span class="r-in"><span>                               trial_column <span class="op">=</span> <span class="st">"Trial"</span>,</span></span>
<span class="r-in"><span>                               time_column <span class="op">=</span> <span class="st">"TimeFromTrialOnset"</span>,</span></span>
<span class="r-in"><span>                               trackloss_column <span class="op">=</span> <span class="st">"TrackLoss"</span>,</span></span>
<span class="r-in"><span>                               aoi_columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Animate'</span>,<span class="st">'Inanimate'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                               treat_non_aoi_looks_as_missing <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># zoom in to 15500-21000ms</span></span></span>
<span class="r-in"><span><span class="va">response_window</span> <span class="op">&lt;-</span> <span class="fu">subset_by_window</span><span class="op">(</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>                                    window_start_time <span class="op">=</span> <span class="fl">15500</span>,</span></span>
<span class="r-in"><span>                                    window_end_time <span class="op">=</span> <span class="fl">21000</span>, rezero <span class="op">=</span> <span class="cn">FALSE</span>, remove <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Avg. window length in new data will be 5500</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># zoom in to 15500-21000ms and re-zero so timestamps start at 0</span></span></span>
<span class="r-in"><span><span class="va">response_window</span> <span class="op">&lt;-</span> <span class="fu">subset_by_window</span><span class="op">(</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>                                    window_start_time <span class="op">=</span> <span class="fl">15500</span>, </span></span>
<span class="r-in"><span>                                    window_end_time <span class="op">=</span> <span class="fl">21000</span>, </span></span>
<span class="r-in"><span>                                    rezero <span class="op">=</span> <span class="cn">TRUE</span>, </span></span>
<span class="r-in"><span>                                    remove <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Avg. window length in new data will be 5500</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># keep all data, but re-zero it</span></span></span>
<span class="r-in"><span><span class="va">response_window</span> <span class="op">&lt;-</span> <span class="fu">subset_by_window</span><span class="op">(</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>                                    window_start_time <span class="op">=</span> <span class="fl">0</span>, </span></span>
<span class="r-in"><span>                                    rezero <span class="op">=</span> <span class="cn">TRUE</span>, </span></span>
<span class="r-in"><span>                                    remove <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Samuel Forbes, Jacob Dink, Brock Ferguson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

